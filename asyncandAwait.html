<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Async And Await</title>
</head>
<body>
    <script>
        const posts = [{ title: 'POST1' }];



function create2ndPost() {

    return new Promise((resolve, reject) => {

        setTimeout(() => {

            posts.push({ title: 'POST2' });

            resolve(posts)

        }, 3000)

    })

}



function create3rPost() {

    return new Promise((resolve, reject) => {

        setTimeout(() => {

            posts.push({ title: 'POST3' });

            resolve(posts);

        }, 2000)

    })

}



function deletePost() {

    return new Promise((resolve, reject) => {

        setTimeout(() => {

            if (posts.length > 0) {

                const poppedElement = posts.pop();

                resolve(poppedElement);

            } else {

                reject("ERROR: ARRAY IS EMPTY")

            }

        }, 1000)

    })

}



async function showPost() {

    try {

        const msg1 = await create2ndPost();

        console.log(msg1);

        const msg2 = await deletePost();

        console.log(msg2);

        const msg3 = await create3rPost();

        console.log(msg3);

        const msg4 = await deletePost();

        console.log(msg4);

        const msg5 = await deletePost();

        console.log(msg5);

        const msg6 = await deletePost();

        console.log(msg6);



    } catch (err) {

        console.log(err);

    }



}

showPost();

    </script>
</body>
</html>